В данном материале будут рассмотрены примеры использования связки Apache Camel и ScalaDSL для реализации заглушек информационных систем при тестировании.
Цель - краткое описание с примерами для быстрой реализации заглушек систем.
Apache camel ( http://camel.apache.org/ )- java фреймворк, предназначенный для реализации обмена сообщениями между компонентами ИС. Реализует т.н. EIP - Enterprise Integration Patterns.
Реализована возможность работы с файлами, БД, менеджерами очередей, веб-сервисами, и другими компонентами - их около 240 на странице проекта http://camel.apache.org/component.html
Компонент может реализовывать как поставщика сообщения(Producer), так и получателя(Consumer).

Общий смысл таков:
1) Описываем источник сообщения(файл, очередь, БД, сервис, таймер и т.п.);
2) Описываем правила преобразования данных и форматов;
3) Описываем получателя (получателей) сообщения(файл, очередь, БД, сервис, вывод в консоль и т.п.) и логику маршрутизации;
4) Запускаем приложение, которое слушает источник, и при появлении сообщения преобразует его и маршрутизирует до получателей.
Надеюсь, на примерах станет понятно.

Для описания правил маршрутизации и преобразования сообщений используются различные языки( http://camel.apache.org/languages.html ). Мы будем использовать Scala DSL, систему сборки sbt.

Будет рассмотрено 3 сценария, с возраствнием сложности:
1) Чтение файлов в одной кодировке, запись в другой;
2) Запрос к веб сервису по-расписанию и сохранение сообщения в файл???;
3) Чтение сообщения из очереди и отправка сообщения в БД или в файл???, в зависимости от условий.

Также существует отличный пример с чтением сообщения из файла и отправкой его http post запросом
http://www.lightbend.com/activator/template/camel-http
https://github.com/hilton/activator-camel-http#master